{% extends 'base.html' %}

{% block title %}Rusken-Charitable-Foundation  | Home{% endblock %}

{% block content %}

<link rel="stylesheet" href="{{ url_for('static', filename='css/page.css') }}">



<!-- Hero Section -->
<section class="hero min-vh-100 d-flex align-items-center position-relative overflow-hidden">
  <!-- Background with Parallax Effect -->
  <div class="hero-background">
    <div class="parallax-wrapper">
      <img src="{{url_for('static', filename='images/wryp.jpg')}}" 
           alt="Community empowerment" 
           class="img-cover parallax-layer" 
           data-depth="0.4">
    </div>
    <div class="color-overlay gradient-overlay"></div>
  </div>

  <!-- Content Container -->
  <div class="container position-relative z-index-2">
    <div class="row justify-content-center text-center">
      <div class="col-12 col-lg-10 col-xl-8" data-aos="fade-up" data-aos-duration="800">
        <div class=" p-4 p-lg-5 rounded-4 shadow-soft bg-soft-glass">
          <h1 class="display-3 fw-bold mb-4 text-white text-shadow">
            <span class="d-inline-block">Building Bridges of</span> 
            <span class="highlighted-text animated-gradient">Hope & Opportunity</span>
          </h1>
          
          <p class="lead  text-white mb-5">
            Creating sustainable solutions through innovation, compassion, and global partnerships
          </p>
          
          <div class="row">
            <div class="d-flex flex-column flex-md-row gap-3 justify-content-center">
              <a href="#donate" class="btn btn-lg btn-primary px-5 py-3 btn-hover-scale">
                <i class="fas fa-hand-holding-heart me-2"></i>Make an Impact Today
              </a>
              <a href="{{ url_for('main.all_programs') }}" 
                 class="btn btn-lg btn-outline-light px-5 py-3 btn-hover-grow" 
                 style="background-color: #49235a;">
                Explore Our Programs <i class="fas fa-arrow-right ms-2"></i>
              </a>
            </div>
          </div>
          
        </div>
      </div>
    </div>
  </div>

  <!-- Animated Elements -->
  <div class="floating-shapes">
    <div class="shape circle pulse-animation"></div>
    <div class="shape triangle float-animation"></div>
    
  </div>
  
  <!-- Scroll Indicator -->
  <div class="scroll-indicator">
    <div class="mouse">
      <div class="wheel"></div>
    </div>
    <div class="arrow-bounce">
      <i class="fas fa-chevron-down"></i>
    </div>
  </div>
</section>


<section class="donation-module py-8 position-relative overflow-hidden" id="donate">

  <div class="position-absolute top-0 start-0 w-100 h-90">
    <div class="donation-bg-shape shape-1"></div>
    <div class="donation-bg-shape shape-2"></div>
    <div class="donation-bg-shape shape-3"></div>
  </div>


<!-- Section Header -->
    <div class="section-header text-center mb-7" data-aos="fade-up" data-aos-duration="800">
      <span class="section-badge mb-3" style="color: #49235a;">Empower Change</span>
      <h2 class="display-4 fw-bold mb-3 text-gradient-animated">Empower Change</h2>
      <p class="lead text-muted mx-auto" style="max-width: 700px;">
         Your donation fuels our mission to create lasting impact in communities worldwide.
      </p>
  
    </div>




  <div class=" position-relative z-index-1 m-4">
    <div class="row justify-content-center">
      <div class="col-12 col-lg-10 col-xl-8">
        <div class="impact-interface bg-white p-5 p-lg-6 rounded-4 shadow-soft-lg border-0">
          <div class="d-flex flex-column flex-lg-row align-items-center gap-5">

            <!-- Visual Impact Meter -->
            <div class="impact-visual position-relative">
              <div class="impact-circle">
                <!-- Animated Progress Circle -->
                <svg class="progress-ring" width="220" height="220">
                  <circle class="progress-ring-circle-bg" stroke="#f0f0f0" stroke-width="12" fill="transparent" r="100" cx="110" cy="110"/>
                  <circle class="progress-ring-circle" stroke="url(#progressGradient)" stroke-width="12" stroke-dasharray="628" stroke-dashoffset="314" fill="transparent" r="100" cx="110" cy="110" style="--progress: 50%"/>
                  <defs>
                    <linearGradient id="progressGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                      <stop offset="0%" stop-color="#2ecc71"/>
                      <stop offset="100%" stop-color="#3498db"/>
                    </linearGradient>
                  </defs>
                </svg>
                
                <!-- Center Content -->
                <div class="impact-circle-content">
                  <span class="progress-value display-5 fw-bold">50%</span>
                  <small class="d-block text-muted mt-3">of goal reached</small>
                </div>
                
                <!-- Animated Icon -->
                <div class="impact-icon">
                  <div class="icon-container mb-4">
                    <i class="fas fa-seedling"></i>
                    <div class="icon-ripple ripple-1"></div>
                    <div class="icon-ripple ripple-2"></div>
                    <div class="icon-ripple ripple-3"></div>
                  </div>
                </div>
              </div>
              
              <!-- Impact Statement -->
              <div class="impact-statement text-center mt-4">
                <p class="mb-0 fw-medium">
                  <i class="fas fa-users me-2"></i>
                  <span class="counter p-2" data-target="12478">12,478</span> lives changed
                </p>
              </div>
            </div>

            <!-- Control Panel -->
            <div class="flex-grow-1 w-100">
             

              <!-- Donation Amount Selector -->
              <div class="donation-tiers mb-4">
                <div class="d-flex flex-wrap gap-2 justify-content-center justify-content-lg-start">
                  <button type="button" class="tier-card btn btn-outline-primary rounded-pill px-4 py-2" data-amount="25">
                    KSH 25
                  </button>
                  <button type="button" class="tier-card btn btn-outline-primary rounded-pill px-4 py-2" data-amount="50">
                    KSH 50
                  </button>
                  <button type="button" class="tier-card btn btn-outline-primary rounded-pill px-4 py-2 active" data-amount="100">
                    KSH 100
                  </button>
                  
                </div>
              </div>

              <!-- Custom Amount Input -->
              <div class="custom-amount mb-4">
                <div class="input-group input-group-lg hover-scale">
                  <span class="input-group-text bg-white border-end-0">
                    <i class="small"> KSH</i>
                  </span>
                  <input type="number" 
                         class="form-control border-start-0" 
                         placeholder="Other amount"
                         id="general_amount"
                         min="1"
                         step="1"
                         value="100">
                  <button class="btn btn-primary px-4" id="openModal">
                    <i class="fas fa-heart me-2"></i>Give Now
                  </button>
                </div>
                <div id="generalDonationMessage" class="text-danger small text-center mt-2"></div>
              </div>

              <!-- Trust Indicators -->
              <div class="trust-indicators d-flex flex-wrap justify-content-center justify-content-lg-start gap-3 mt-4">
                <div class="d-flex align-items-center">
                  <i class="fas fa-lock-shield text-success me-2"></i>
                  <small class="text-muted">Secure 256-bit SSL</small>
                </div>
                <div class="d-flex align-items-center">
                  <i class="fas fa-badge-check text-primary me-2"></i>
                  <small class="text-muted">Tax Deductible</small>
                </div>
                <div class="d-flex align-items-center">
                  <i class="fas fa-star text-warning me-2"></i>
                  <small class="text-muted">4.9/5 Rating</small>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Premium Donation Modal -->
<div class="modal fade" id="donationModal" tabindex="-1" aria-labelledby="donationModalLabel" aria-hidden="true" data-bs-backdrop="static">
  <div class="modal-dialog modal-dialog-centered">
    
    <div class="modal-content border-0 rounded-4 overflow-hidden">
      <!-- Modal Header with Gradient -->
      <div class="modal-header position-relative p-4" style="background: linear-gradient(135deg, #2ecc71 0%, #3498db 100%)">
        <div class="w-100 text-center">
          <h2 class="modal-title text-white mb-1">Complete  Donation</h2>
          <p class="text-white-80 mb-0">Your support creates real change</p>
        </div>
        <button type="button" class="btn-close btn-close-white position-absolute end-0 me-3" data-bs-dismiss="modal" aria-label="Close"></button>
        <div class="position-absolute bottom-0 start-0 w-100">
          <svg viewBox="0 0 500 20" preserveAspectRatio="none" style="height: 20px; width: 100%;">
            <path d="M0,0 C150,30 350,5 500,20 L500,0 L0,0 Z" style="stroke: none; fill: white;"></path>
          </svg>
        </div>
      </div>

      <!-- Modal Body -->
      <div class="modal-body p-0">
        <!-- Progress Steps -->
        <div class="px-4 pt-4">
          <div class="donation-steps d-flex justify-content-between position-relative">
            <div class="step active completed">
              <div class="step-circle">1</div>
              <div class="step-label">Amount</div>
            </div>
            <div class="step active">
              <div class="step-circle">2</div>
              <div class="step-label">Details</div>
            </div>
            <div class="step">
              <div class="step-circle">3</div>
              <div class="step-label">Payment</div>
            </div>
            <div class="progress-bar" style="width: 33%"></div>
          </div>
        </div>

        <!-- Donation Form -->
        <form id="generalDonationForm" class="p-4 pt-3">
          <input type="hidden" id="modal_amount">
          
          <!-- Donation Amount Preview -->
          <div class="donation-preview mb-4 p-3 rounded-3 text-center" style="background-color: #f8f9fa;">
            <div class="text-muted  mb-1">You're donating</div>
            <div class="display-5 fw-bold text-primary" id="donationAmountPreview">KSH 100.00</div>
          </div>

          <!-- Form Fields -->
          <div class="row g-3">
            <div class="col-md-6">
              <div class="form-floating">
                <input type="text" class="form-control" id="modal_name" placeholder="John Doe" required>
                <label for="modal_name">Full Name</label>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-floating">
                <input type="email" class="form-control" id="modal_email" placeholder="name@example.com" required>
                <label for="modal_email">Email Address</label>
              </div>
            </div>
           
            <div class="col-12">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="modal_receipt">
                <label class="form-check-label " for="modal_receipt">
                  Email me a receipt
                </label>
              </div>
            </div>
          
          </div>

         

         


          <!-- Error Message -->
          <div id="modal_message" class="alert alert-danger mt-3 mb-0 d-none"></div>
        </form>
      </div>

      <!-- Modal Footer -->
      <div class="modal-footer border-0 pt-0 pb-4 px-4">
        <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
          <i class="fas fa-arrow-left me-2"></i> Back
        </button>
       <button type="submit" form="generalDonationForm" class="btn btn-primary btn-donate-now">
          <span class="donate-text">Donate Now</span>
          <span class="donate-amount ms-1" id="footerDonationAmount">KSH 100.00</span>
          <i class="fas fa-arrow-right ms-2"></i>
        </button>

        

 <!-- Security Badge -->
         <div class="security-badge text-center mt-4">
            <div class="d-inline-flex align-items-center bg-light rounded-pill px-3 py-1">
              <i class="fas fa-shield-alt text-success me-2"></i>
              <small class="text-muted">
                Donations are securely processed by <strong>DPO Group</strong> using advanced 256-bit SSL encryption.
              </small>
            </div>
          </div>

      </div>
    </div>
  </div>
</div>


<script>
document.addEventListener('DOMContentLoaded', () => {
  // Tier card interactions
  document.querySelectorAll('.tier-card').forEach(card => {
    card.addEventListener('click', () => {
      document.querySelectorAll('.tier-card').forEach(c => c.classList.remove('active'));
      card.classList.add('active');
    });
  });

  // Progress animation
  const progressCircle = document.querySelector('.circle-progress');
  if(progressCircle) {
    gsap.to(progressCircle, {
      rotation: 360,
      duration: 8,
      repeat: -1,
      ease: "none"
    });
  }
});
</script> 




<!-- Initiatives Showcase Section -->
<section class="initiatives-section py-8 position-relative overflow-hidden">
  <!-- Background Elements -->
  <div class="position-absolute top-0 start-0 w-100 h-100">
    <div class="initiatives-bg-shape shape-1"></div>
    <div class="initiatives-bg-shape shape-2"></div>
  </div>

  <div class="container position-relative z-index-1">
    <!-- Section Header -->
    <div class="section-header text-center mb-7" data-aos="fade-up" data-aos-duration="800">
      <span class="section-badge mb-3">Our Impact</span>
      <h2 class="display-4 fw-bold mb-3 text-gradient-animated">Catalytic Programs</h2>
      <p class="lead text-muted mx-auto" style="max-width: 700px;">
        Innovative solutions creating sustainable impact across communities
      </p>
      <div class="header-divider mx-auto mt-4">
        <div class="divider-line"></div>
        <div class="divider-icon">
          <i class="fas fa-leaf"></i>
        </div>
        <div class="divider-line"></div>
      </div>
    </div>

    <!-- Mosaic Grid -->
    <div class="mosaic-grid">
      {% for program in featured_programs %}
      <div class="grid-item{% if loop.index <= 2 %} featured{% endif %}" 
           data-aos="fade-up" 
           data-aos-delay="{{ loop.index * 100 }}"
           data-aos-duration="600">
        <a href="{{ url_for('main.program_detail', slug=program.slug) }}" class="program-card">
          <div class="card border-0 shadow-soft-lg overflow-hidden h-100">
            <!-- Program Image with Fixed Height -->
            {% set img = program.images.first() %}
            <div class="card-img-container">
              <img src="{{ img|program_image_url }}" 
                   class="card-img" 
                   alt="{{ program.title }}"
                   loading="lazy">
              <div class="img-overlay"></div>
            </div>
            
            <!-- Card Badge -->
            <div class="card-badge pulse-animated">
              <span class="badge-text">Ongoing</span>
              <span class="badge-glow"></span>
            </div>
            
            <!-- Card Content -->
            <div class="card-body">
              <h3 class="card-title">{{ program.title }}</h3>
              <p class="card-description">{{ program.short_description|truncate(100) }}</p>
              
              <!-- Progress Bar -->
<div class="progress-container mb-3">
  <div class="progress-info d-flex justify-content-between mb-1">
    <span class="progress-label">Raised</span>
    <span class="progress-value">
      KSH {{ program.total_donated | round(2) }} of KSH {{ program.annual_budget | round(2) }}
    </span>
  </div>
  {% set donated_percent = (program.total_donated / program.annual_budget | float * 100) if program.annual_budget else 0 %}
  <div class="progress">
    <div class="progress-bar" 
         role="progressbar" 
         style="width: {{ donated_percent | round(1) }}%" 
         aria-valuenow="{{ donated_percent | round(1) }}" 
         aria-valuemin="0" 
         aria-valuemax="100">
    </div>
  </div>
</div>

              
              <!-- Stats -->
              <div class="card-stats">
                <div class="stat-item">
                  <i class="fas fa-calendar-alt stat-icon"></i>
                  <span class="stat-value">{{ program.created_at.strftime('%b %Y') }}</span>
                </div>
                <div class="stat-item">
                  <i class="fas fa-users stat-icon"></i>
                  <span class="stat-value">{{ program.beneficiaries }} Beneficiaries</span>
                </div>
              </div>
            </div>
            
            <!-- Hover Effect -->
            <div class="card-hover-effect">
              <span class="hover-text">View Details</span>
              <i class="fas fa-arrow-right hover-icon"></i>
            </div>
          </div>
        </a>
      </div>
      {% endfor %}
    </div>

    <!-- More Programs Button -->
    <div class="text-center mt-6" data-aos="fade-up" data-aos-delay="200">
      <a href="{{ url_for('main.all_programs') }}" class="btn btn-more-programs">
        <span class="btn-text">Explore All Initiatives</span>
        <i class="fas fa-arrow-right-long btn-icon"></i>
        <span class="btn-hover-effect"></span>
      </a>
    </div>
  </div>
</section>


<section class="impact-metrics py-7 bg-light m-5">
  <div class="container p-3"  style="background: #ebcafc;" >
    <div class="row g-4 justify-content-center" data-aos="fade-up">
      
      <!-- Lives Transformed -->
     

      <!-- Projects Completed -->
      <div class="col-4 col-md-3 text-center">
        <div class="metric-card p-2 rounded-4 shadow-hover bg-white">
          <div class="metric-icon mb-3">
            <i class="fas fa-check-circle fa-3x text-success"></i>
          </div>
          <h3 class="metric-value display-5 fw-bold text-dark mb-2">1+</h3>
          <p class="  text-muted mb-0">Projects Finished</p>
        </div>
      </div>

      <!-- Countries -->
      <div class="col-4 col-md-3 text-center">
        <div class="metric-card p-2 rounded-4 shadow-hover bg-white">
          <div class="metric-icon mb-3">
            <i class="fas fa-globe-americas fa-3x text-info"></i>
          </div>
          <h3 class="metric-value display-5 fw-bold text-dark mb-2">1</h3>
          <p class="text-small   text-muted mb-0">Country</p>
        </div>
      </div>

      <!-- Success Rate -->
      <div class="col-4 col-md-3 text-center">
        <div class="metric-card p-2 rounded-4 shadow-hover bg-white">
          <div class="metric-icon mb-3">
            <i class="fas fa-heartbeat fa-3x text-danger"></i>
          </div>
          <h3 class="metric-value display-5 fw-bold text-dark mb-2">92%</h3>
          <p class=" text-small  text-muted mb-0">Success Rate</p>
        </div>
      </div>

    </div>
  </div>
</section>


<!-- JavaScript for Counter Animation -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  // Animate counters
  const counters = document.querySelectorAll('.counter');
  counters.forEach(counter => {
    const target = parseInt(counter.dataset.target);
    gsap.to(counter, {
      innerText: target,
      duration: 2,
      snap: { innerText: 1 },
      ease: "power2.out"
    });
  });

  // Add intersection observer for scroll-triggered animations
  const metricCards = document.querySelectorAll('.metric-card');
  metricCards.forEach(card => {
    card.addEventListener('mouseenter', () => {
      card.querySelector('.metric-wave').style.transform = 'scaleX(1)';
    });
    card.addEventListener('mouseleave', () => {
      card.querySelector('.metric-wave').style.transform = 'scaleX(0)';
    });
  });
});
</script>

<section id="our-donors" class="py-6 bg-white"  >
  <div class="container text-center" >
    <h2 class="h3 fw-bold mb-5">Our Valued Sponsors & Donors</h2>
    <div class="row justify-content-center g-4">
      
      <!-- Donor 1 -->
      <div class="col-12 col-md-6 col-lg-4">
        <div class="card h-100 border-0 shadow-sm">
          <div class="card-body d-flex flex-column align-items-center">
            <img src="{{ url_for('static', filename='images/rg.png') }}"
                 alt="Donor One Logo"
                 class="mb-4 donor-logo">
            <h5 class="card-title mb-2">Rhein Global Estate</h5>
            <p class="card-text text-muted mb-3">
              “Thanks to Rhein Global Estate’s generous support, we’ve been able to launch our community education program, reaching more children with vital resources.”
            </p>
            <address class="donor-contact text-center mb-1">
              Möltke Strasse 58-60, D-53179 Bonn, Germany
            </address>
            <a href="mailto:post@rhein-immobilien24.de" class="donor-email mb-0">
              post@rhein-immobilien24.de
            </a>
          </div>
        </div>
      </div>
      
      <!-- Donor 2 -->
      <div class="col-12 col-md-6 col-lg-4">
        <div class="card h-100 border-0 shadow-sm">
          <div class="card-body d-flex flex-column align-items-center">
            <img src="{{ url_for('static', filename='images/mr.png') }}"
                 alt="Donor Two Logo"
                 class="mb-4 donor-logo">
            <h5 class="card-title mb-2">MR Global UG</h5>
            <p class="card-text text-muted mb-3">
              “With MR Global UG’s partnership, we have expanded our healthcare outreach, providing life-saving services to remote villages.”
            </p>
            <address class="donor-contact text-center mb-1">
              Möltke Strasse 58-60, D-53179 Bonn, Germany
            </address>
            <a href="mailto:post@rhein-immobilien24.de" class="donor-email mb-0">
              mail-mrglobal@proton.me 
            </a>
          </div>
        </div>
      </div>
      
    </div>
  </div>
</section>



<section class="updates-section py-7 bg-dark text-white mb-3">
  
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-6">
        <h3 class="display-6 fw-bold">Stay Connected</h3>
        <p class="opacity-75">Get impact reports and campaign updates</p>
        
      </div>
      
      <div class="col-md-6">
        <form class="newsletter-form">
          <div class="input-group">
            <input type="email" class="form-control" placeholder="Email address">
            <button class="btn btn-primary">
              Subscribe <i class="fas fa-arrow-right"></i>
            </button>
          </div>
          <div class="form-text text-white">Monthly updates, no spam</div>
        </form>
        
       
      </div>
    </div>
  </div>
</section>

<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
  AOS.init({
    duration: 1000,
    once: true,
    easing: 'ease-in-out-quart'
  });

  // Add GSAP animations
  gsap.from(".hero-content", {duration: 1.5, y: 100, opacity: 0, ease: "power4.out"});
  gsap.to(".hero-matrix", {duration: 20, rotation: 360, repeat: -1, ease: "none"});
</script>
{% endblock %}